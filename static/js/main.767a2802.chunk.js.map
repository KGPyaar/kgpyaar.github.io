{"version":3,"sources":["crypto.js","constants/constants.tsx","hooks/Auth.tsx","component/PrivateRoute.tsx","images/logo.svg","component/Navbar.tsx","component/Footer.tsx","component/Countdown.tsx","images/illus.svg","views/Home.tsx","views/verify.tsx","component/UserCard.tsx","component/SentHearts.tsx","views/Dashboard.tsx","views/Login.tsx","views/Register.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["symmetry_object_encryption","secret","data","stringified_data","JSON","stringify","window","sjcl","json","encrypt","symmetry_object_decryption","decrypted_data","decrypt","parse","generateLoveNumber","senderPrivKey","receiverPubKey","senderPrivKeyObj","ecc","elGamal","secretKey","curves","c256","field","fromBits","codec","base64","toBits","receiverPubKeyObj","publicKey","lovenumber","dh","hex","generateSHA256","hash","sha256","BACKEND_URL","EMAIL_VALIDATOR","authConnector","isAuthenticated","login","cb","cbe","axios","post","then","response","catch","signout","register","error","signup","headers","Authorization","jwt","authContext","createContext","ProvideAuth","props","auth","useState","userJSON","localStorage","getItem","getUserFromLocalStorage","user","setUser","setItem","password","encryptedPrivateKey","removeItem","authHeader","useProvideAuth","Provider","value","children","useAuth","useContext","PrivateRoute","rest","render","location","to","pathname","state","from","Navbar","className","src","logo","alt","exact","onClick","console","log","Footer","Countdown","heading","date","daysInHours","Home","illus","href","rel","target","departments","years","Verify","history","useHistory","isLoading","setIsLoading","message","setMessage","id","details","setDetails","useParams","useForm","handleSubmit","errors","watch","useRef","current","useEffect","get","onSubmit","department","year","key","keyPair","pair","generateKeys","privateKey","sec","pub","KGPyaarKeysGen","serializedPrivateKey","serializedPublicKey","x","concat","y","pubToString","undefined","status","push","name","defaultValue","placeholder","ref","required","nickname","map","dep","email","pattern","type","contact","validate","confirmPassword","disabled","UserCard","isOpen","setIsOpen","length","substr","onRequestClose","loveNumber","userData","requestData","encryptedContactDetails","contact_details","love_number","err","SentCard","go","SentHearts","setData","res","sent_hearts_data","sent_heart","Dashboard","isSearched","setIsSearched","searchResult","setSearchResult","public_key","Login","e","Register","isRegistrered","setIsRegistered","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.767a2802.chunk.js","sourcesContent":["\n\n// ***********************SYMMETRIC ENCRYPTION*******************************\n/* Encrypted & decrypt sent hearts by a user using his password */\nexport function symmetry_object_encryption(secret, data) {\n  /*\n  params:\n      secret: String, eg - 'password123'\n      data: Object, eg - {'id': 1, love_number: 'tnjtj374956'}\n  Returns\n      encrypted_data: String, eg - '{\"iv\":\"qBmx9ETIRI0jqUT/Wox85g==\",\"v\":1,\"iter\":10000,\"ks\":128,\"ts\":64,\"mode\":\"ccm\",\"adata\":\"\",\"cipher\":\"aes\",\"salt\":\"n/g4BHUSbrE=\",\"ct\":\"TaDiSZTwiMUTgBvfg5NtqtH2gFI4mhIzszAFtf1GfbAW1qbAD8PGhrVjbrY=\"}'\n  */\n  const stringified_data = JSON.stringify(data); // stringify the object data\n  const encrypted_data = window.sjcl.json.encrypt(secret, stringified_data); // encrypt and get the string\n  return encrypted_data;\n}\n\nexport function symmetry_object_decryption(secret, data) {\n  /*\n  params:\n      secret: String, eg - 'password123'\n      data: String, eg - '{\"iv\":\"qBmx9ETIRI0jqUT/Wox85g==\",\"v\":1,\"iter\":10000,\"ks\":128,\"ts\":64,\"mode\":\"ccm\",\"adata\":\"\",\"cipher\":\"aes\",\"salt\":\"n/g4BHUSbrE=\",\"ct\":\"TaDiSZTwiMUTgBvfg5NtqtH2gFI4mhIzszAFtf1GfbAW1qbAD8PGhrVjbrY=\"}'\n  Returns:\n      decrypted_data: Object, eg - { id: 1, love_number: 'tnjtj374956' }\n  */\n  const decrypted_data = window.sjcl.json.decrypt(secret, data) || \"{}\";\n  const parsed_decrypted_data = JSON.parse(decrypted_data);\n  return parsed_decrypted_data;\n}\n\n// ***********************SYMMETRIC ENCRYPTION*******************************\n// interface KGPyaarKeys {\n//   pair: window.SjclKeyPair<window.SjclElGamalPublicKey, window.SjclElGamalSecretKey>;\n//   privateKey: BitArray;\n//   publicKey: window.SjclECCPublicKeyData;\n//   pubToString: (key: window.SjclECCPublicKeyData) => string;\n//   privToString: (key: BitArray) => string;\n//   generateLoveNumber: (senderPrivKey: string, receiverPubKey: string) => string;\n// }\n\nexport const pubToString = (key) => {\n  return window.sjcl.codec.base64.fromBits(key.x.concat(key.y));\n};\n\nexport const generateLoveNumber = (senderPrivKey, receiverPubKey) => {\n  let senderPrivKeyObj = new window.sjcl.ecc.elGamal.secretKey(\n    window.sjcl.ecc.curves.c256,\n    window.sjcl.ecc.curves.c256.field.fromBits(window.sjcl.codec.base64.toBits(senderPrivKey))\n  );\n\n  let receiverPubKeyObj = new window.sjcl.ecc.elGamal.publicKey(\n    window.sjcl.ecc.curves.c256,\n    window.sjcl.codec.base64.toBits(receiverPubKey)\n  );\n\n  // (g^r)^s = g^(rs) // g^r is receiver_pub_key, s is sender_pvt_key\n  let lovenumber = senderPrivKeyObj.dh(receiverPubKeyObj);\n  return window.sjcl.codec.hex.fromBits(lovenumber);\n};\n\nexport const privToString = (key) => {\n  return window.sjcl.codec.base64.fromBits(key);\n};\n\nexport function KGPyaarKeysGen(){\n  let pair = window.sjcl.ecc.elGamal.generateKeys(256, 6);\n\n  return {\n    pair: pair,\n    privateKey: pair.sec.get(),\n    publicKey: pair.pub.get(),\n  };\n};\n\nexport function generateSHA256(data) {\n  return window.sjcl.codec.hex.fromBits(window.sjcl.hash.sha256.hash(data))\n};","export const BACKEND_URL = `https://api.kgpyaar.date`;\nexport const EMAIL_VALIDATOR =  /^.*@(kgpian.)?iitkgp.ac.in$/i\n\n","import React, { useContext, createContext, useState } from \"react\";\nimport axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport { symmetry_object_decryption } from \"../crypto\";\nimport { BACKEND_URL } from \"../constants/constants\";\n\nexport type signupForm = {\n  id: string;\n  name: string;\n  year: string;\n  department: string;\n  nickname: string;\n  contact_details: string;\n  email: string;\n  password: string;\n  jwt: string;\n  encryptedPrivateKey: string;\n  serializedPublicKey: string;\n};\n\nexport type registerForm = {\n  email: string;\n};\n\nexport type loginForm = {\n  email: string;\n  password: string;\n};\n\nclass User {\n  id: string;\n  name: string;\n  year: string;\n  department: string;\n  nickname: string;\n  contact_details: string;\n  email: string;\n  jwt: string;\n  encryptedPrivateKey: string;\n  serializedPublicKey: string;\n\n  constructor(\n    id: string,\n    name: string,\n    year: string,\n    department: string,\n    nickname: string,\n    contact_details: string,\n    email: string,\n    jwt: string,\n    encryptedPrivateKey: string,\n    serializedPublicKey: string\n  ) {\n    this.id = id;\n    this.name = name;\n    this.year = year;\n    this.department = department;\n    this.nickname = nickname;\n    this.contact_details = contact_details;\n    this.email = email;\n    this.jwt = jwt;\n    this.encryptedPrivateKey = encryptedPrivateKey;\n    this.serializedPublicKey = serializedPublicKey;\n  }\n}\n\nconst authConnector = {\n  isAuthenticated: false,\n  login(data: loginForm, cb: (user: User) => void, cbe: (e: AxiosError) => void) {\n    authConnector.isAuthenticated = true;\n    axios\n      .post(`${BACKEND_URL}/login`, data)\n      .then((response) => {\n        // console.log(response);\n        cb(response.data);\n      })\n      .catch(cbe);\n  },\n  signout(cb: () => void) {\n    authConnector.isAuthenticated = false;\n    cb();\n  },\n  register(data: registerForm, cb: (response: AxiosResponse) => void) {\n    authConnector.isAuthenticated = false;\n    axios\n      .post(`${BACKEND_URL}/register`, data)\n      .then((response) => {\n        // console.log(response);\n        cb(response);\n      })\n      .catch((error) => {\n        // console.log(error.response);\n        cb(error.response);\n      });\n  },\n  signup(data: signupForm, cb: (response: AxiosResponse) => void) {\n    authConnector.isAuthenticated = false;\n    axios\n      .post(`${BACKEND_URL}/signup`, data, {\n        headers: {\n          Authorization: `Bearer ${data.jwt}`,\n        },\n      })\n      .then((response) => {\n        // console.log(response);\n        cb(response);\n      })\n      .catch((error) => {\n        // console.log(error.response);\n        cb(error.response);\n      });\n  },\n};\n\nexport type AuthContextType = {\n  user: User | null;\n  login: (data: loginForm, cb: () => void, cbe: (e: AxiosError) => void) => void;\n  signout: (cb: () => void) => void;\n  register: (data: registerForm, cb: (response: AxiosResponse) => void) => void;\n  signup: (data: signupForm, cb: (response: AxiosResponse) => void) => void;\n  authHeader: () => AxiosRequestConfig;\n};\n\nexport const authContext = createContext<AuthContextType | null>(null);\n\nfunction ProvideAuth(props: { children: React.ReactNode }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{props.children}</authContext.Provider>;\n}\n\nfunction useAuth() {\n  return useContext(authContext);\n}\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState<User | null>(getUserFromLocalStorage());\n\n  const login = (data: loginForm, cb: () => void, cbe: (e: AxiosError) => void) => {\n    return authConnector.login(\n      data,\n      (user) => {\n        setUser(user);\n        localStorage.setItem(\"user\", JSON.stringify(user));\n        localStorage.setItem(\"jwt\", user.jwt);\n        localStorage.setItem(\n          \"decryptedPrivateKey\",\n          symmetry_object_decryption(data.password, user.encryptedPrivateKey)\n        );\n        cb();\n      },\n      cbe\n    );\n  };\n\n  const signout = (cb: () => void) => {\n    return authConnector.signout(() => {\n      setUser(null);\n      localStorage.removeItem(\"user\");\n      cb();\n    });\n  };\n\n  const register = (data: registerForm, cb: (response: AxiosResponse) => void) => {\n    return authConnector.register(data, (response) => {\n      setUser(null);\n      cb(response);\n    });\n  };\n\n  const signup = (data: signupForm, cb: (response: AxiosResponse) => void) => {\n    return authConnector.signup(data, (response) => {\n      setUser(null);\n      cb(response);\n    });\n  };\n\n  const authHeader = (): AxiosRequestConfig => {\n    if (user !== null) {\n      return {\n        headers: {\n          Authorization: `Bearer ${user?.jwt}`,\n        },\n      };\n    }\n    return {};\n  };\n\n  return {\n    user,\n    login,\n    signout,\n    register,\n    signup,\n    authHeader,\n  };\n}\n\nfunction getUserFromLocalStorage(): User | null {\n  let userJSON = localStorage.getItem(\"user\");\n  if (userJSON) {\n    return JSON.parse(userJSON);\n  }\n  return null;\n}\n\nexport { ProvideAuth, useAuth };\n","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom'; \nimport {useAuth} from '../hooks/Auth';\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated. \n// Use like Route\nexport default function PrivateRoute(props: any) {\n    let auth = useAuth();\n    let {children, ...rest} = props;\n    return (\n        <Route\n        {...rest}\n        render={({ location }) =>\n            (auth !== null && auth.user) ? (\n            props.children\n            ) : (\n            <Redirect\n                to={{\n                pathname: \"/login\",\n                state: { from: location }\n                }}\n            />\n            )\n        }\n        />\n    );\n}\n","export default __webpack_public_path__ + \"static/media/logo.30e1a299.svg\";","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useAuth } from \"../hooks/Auth\";\n\nimport logo from \"../images/logo.svg\";\n\nexport default function Navbar() {\n  let auth = useAuth();\n\n  return (\n    <nav>\n      <div className=\"wrapper\">\n        <img src={logo} alt=\"KGPyaar logo\" />\n        <ul>\n          <li>\n            <NavLink exact to=\"/\">\n              Home\n            </NavLink>\n          </li>\n          {auth?.user ? (\n            <>\n              <li>\n                <NavLink exact to=\"/dashboard\">\n                  Dashboard\n                </NavLink>\n              </li>\n              <li onClick={() => auth?.signout(() => console.log(\"User signed out\"))}>Signout</li>\n            </>\n          ) : (\n            <>\n              <li>\n                <NavLink exact to=\"/login\">\n                  Login\n                </NavLink>\n              </li>\n              <li>\n                <NavLink exact to=\"/register\">\n                  Register\n                </NavLink>\n              </li>\n            </>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n}\n","import React from \"react\";\n\nexport default function Footer() {\n  return (\n    <footer>\n      <p>&copy; Copyright KGPyaar</p>\n    </footer>\n  );\n}\n","import React from \"react\";\nimport ReactCountdown from \"react-countdown\";\n\ninterface timeProps {\n  date: string;\n  heading: string;\n}\n\nconst Countdown: React.FC<timeProps> = (props) => {\n  return (\n    <>\n      <h3>\n        {props.heading} &nbsp;\n        <ReactCountdown className=\"countdown\" date={props.date} daysInHours />\n      </h3>\n    </>\n  );\n};\n\nexport default Countdown;\n","export default __webpack_public_path__ + \"static/media/illus.67a7dd60.svg\";","import React from \"react\";\nimport Countdown from \"../component/Countdown\";\nimport illus from \"../images/illus.svg\";\n\nfunction Home() {\n  return (\n    <div className=\"home\">\n      <div className=\"illus\">\n        <img src={illus} alt=\"Chora Chori Gup Chup Gup Chup\" />\n      </div>\n      <div className=\"content\">\n        <h1>Why use KGPyaar?</h1>\n        <Countdown date=\"2022-02-13T23:55:00\" heading=\"Registrations closing in\" />\n        <ul>\n          <li>We respect your privacy </li>\n          <li>Cryptographically secure app</li>\n          <li>Encrypted data on client-side</li>\n          <li>Server unaware of your selections</li>\n        </ul>\n\n        <a href=\"https://bit.ly/KGPyaar-Doc\" rel=\"noreferrer noopener\" target=\"_blank\">\n          Detailed Docs\n        </a>\n        <a href=\"https://bit.ly/KGPyaar-FAQ\" rel=\"noreferrer noopener\" target=\"_blank\">\n          FAQs\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useAuth, signupForm } from \"../hooks/Auth\";\nimport illus from \"../images/illus.svg\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { BACKEND_URL } from \"../constants/constants\";\nimport { KGPyaarKeysGen, privToString, pubToString, symmetry_object_encryption } from \"../crypto\";\nimport axios from \"axios\";\nimport { EMAIL_VALIDATOR } from \"../constants/constants\";\n\ninterface initialDetails {\n  id: string;\n  jwt: string;\n  name?: string;\n  year?: string;\n  department?: string;\n  email?: string;\n}\n\nconst departments = [\n  \"Department\",\n  \"AE\",\n  \"AG\",\n  \"AR\",\n  \"BT\",\n  \"CE\",\n  \"CH\",\n  \"CS\",\n  \"CY\",\n  \"EC\",\n  \"EE\",\n  \"EX\",\n  \"IE\",\n  \"IM\",\n  \"GG\",\n  \"HS\",\n  \"MA\",\n  \"ME\",\n  \"MF\",\n  \"MT\",\n  \"MI\",\n  \"NA\",\n  \"PH\",\n  \"QD\",\n  \"QE\",\n  \"QM\",\n];\n\nconst years = [\"Year\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\"];\n\nfunction Verify() {\n  let history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [details, setDetails] = useState<initialDetails>({ id: \"\", jwt: \"\" });\n  let auth = useAuth();\n  let { id }: { id: string } = useParams();\n  const { register, handleSubmit, errors, watch } = useForm();\n  const password = useRef({});\n  password.current = watch(\"password\", \"\");\n\n  const onSubmit = (data: signupForm) => {\n    setIsLoading(true);\n    if (data.department === \"Department\") data.department = \"\";\n    if (data.year === \"Year\") data.year = \"\";\n\n    let keyPair = KGPyaarKeysGen();\n    let serializedPrivateKey = privToString(keyPair.privateKey);\n    data.encryptedPrivateKey = symmetry_object_encryption(data.password, serializedPrivateKey);\n\n    data.serializedPublicKey = pubToString(keyPair.publicKey);\n    localStorage.setItem(\"privateKey\", data.encryptedPrivateKey);\n\n    data.id = details.id;\n    data.jwt = details.jwt;\n    console.log(\"Submitted Form Data: \", data);\n\n    auth?.signup(data, (response) => {\n      setIsLoading(false);\n      console.log(\"signup succex\");\n\n      if (response === undefined) setMessage(\"Server is down, please try again later\");\n      else if (response.status === 201) history.push(\"/login\");\n      else setMessage(response.data.message);\n    });\n  };\n\n  useEffect(() => {\n    axios\n      .get(`${BACKEND_URL}/verify/${id}`)\n      .then((response) => {\n        setDetails(response.data);\n        localStorage.setItem(\"jwt\", response.data.jwt);\n      })\n      .catch((error) => {\n        // console.log(error.response.data.message);\n        setMessage(error.response.data.message);\n      });\n  }, [id]);\n\n  return (\n    <div className=\"authform register\">\n      <div className=\"illus\">\n        <img src={illus} alt=\"Chora Chori Gup Chup Gup Chup\" />\n      </div>\n      <div className=\"form\">\n        <h1>Signup</h1>\n        <div className=\"error\">{message}</div>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <input name=\"name\" defaultValue={details.name} placeholder=\"Name\" ref={register({ required: true })} />\n          {errors.name && <p>This field is required</p>}\n\n          <input name=\"nickname\" placeholder=\"Nickname\" ref={register({ required: true })} />\n          {errors.nickname && <p>This field is required</p>}\n\n          <select name=\"department\" ref={register({ required: true })}>\n            {departments.map((dep) => (\n              <option> {dep} </option>\n            ))}\n          </select>\n          {errors.department && <p>This field is required</p>}\n\n           <select name=\"year\" ref={register({ required: true })}>\n            {years.map((year) => (\n              <option> {year} </option>\n            ))}\n          </select>\n          {errors.year && <p>This field is required</p>}\n\n          <input\n            name=\"email\"\n            value={details.email}\n            placeholder=\"KGP Email\"\n            ref={register({ required: true, pattern: EMAIL_VALIDATOR })}\n          />\n          {errors.email?.type === \"required\" && <p>This field is required</p>}\n          {errors.email?.type === \"pattern\" && <p>IITKGP email-id only</p>}\n\n          <input name=\"contact_details\" placeholder=\"How to contact you?\" ref={register({ required: true })} />\n          {errors.contact && <p>This field is required</p>}\n\n          <input name=\"password\" type=\"password\" placeholder=\"Password\" ref={register({ required: true })} />\n          {errors.password && <p>This field is required</p>}\n\n          <input\n            name=\"confirmPassword\"\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            ref={register({ validate: (value) => value === password.current || \"The passwords do not match.\" })}\n          />\n          {errors.confirmPassword && <p>{errors.confirmPassword.message}</p>}\n\n          <input type=\"submit\" value=\"Break My Heart\" disabled={isLoading} />\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Register.propTypes = {};\n\nexport default Verify;","import React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\nimport { generateLoveNumber, symmetry_object_encryption, generateSHA256 } from \"../crypto\";\nimport { BACKEND_URL } from \"../constants/constants\";\nimport { useAuth } from \"../hooks/Auth\";\nimport * as Icon from \"react-feather\";\ninterface componentProps {\n  name: string;\n  nickname: string;\n  year: string;\n  department: string;\n  publicKey: string;\n  email: string;\n}\n\nconst UserCard: React.FC<componentProps> = (props) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  let auth = useAuth();\n\n  const sendHeart = () => {\n    setIsLoading(true);\n    let loveNumber = generateLoveNumber(localStorage.getItem(\"decryptedPrivateKey\"), props.publicKey);\n    const userData = {\n      name: props.name,\n      nickname: props.nickname,\n      year: props.year,\n      department: props.department,\n      publicKey: props.publicKey,\n    };\n    const data = {\n      loveNumber,\n      userData,\n    };\n\n    let sha256 = generateSHA256(loveNumber);\n    let requestData = symmetry_object_encryption(localStorage.getItem(\"decryptedPrivateKey\"), data);\n    let encryptedContactDetails = symmetry_object_encryption(loveNumber, auth?.user?.contact_details);\n\n    console.log(encryptedContactDetails);\n\n    axios\n      .post(\n        `${BACKEND_URL}/add`,\n        {\n          data: requestData,\n          sha256,\n          love_number: loveNumber,\n          encryptedContactDetails,\n        },\n        auth?.authHeader()\n      )\n      .then((response) => {\n        // console.log(response.data);\n        setIsLoading(false);\n        setMessage(response.data.message);\n      })\n      .catch((err) => {\n        // console.log(err);\n        setIsLoading(false);\n        setMessage(err.response.data.message);\n      });\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-container\">\n        <h1 className=\"title\" onClick={() => setIsOpen(true)}>\n          {\" \"}\n          {props.name.length > 26 ? props.name.substr(0, 25) + \"...\" : props.name}{\" \"}\n        </h1>\n\n        <div className=\"card-body\">\n          <p>\n            <span className=\"nick-at\">@</span>\n            {props.nickname}{\" \"}\n          </p>\n          <span> {props.year} </span>\n          <span> {props.department} </span>\n          <span> {props.email} </span>\n        </div>\n\n        <button onClick={() => setIsOpen(true)}>\n          {\" \"}\n          <Icon.Heart />{\" \"}\n        </button>\n      </div>\n      <Modal className=\"modal\" isOpen={isOpen} onRequestClose={() => setIsOpen(false)}>\n        <h1 className=\"title\"> {props.name} </h1>\n\n        <div className=\"response\">{message}</div>\n\n        <div className=\"body\">\n          <p> {props.nickname} </p>\n          <span> {props.year} </span>\n          <span> {props.department} </span>\n          <span> {props.email} </span>\n        </div>\n\n        <div className=\"actions\">\n          <button onClick={() => setIsOpen(false)} className=\"gray\">\n            Cancel?\n          </button>\n          <button onClick={sendHeart} disabled={isLoading}>\n            {isLoading ? <Icon.Loader className=\"loader\" /> : \"Send Heart\"}\n          </button>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default UserCard;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../hooks/Auth\";\nimport axios from \"axios\";\nimport { BACKEND_URL } from \"../constants/constants\";\nimport { symmetry_object_decryption } from \"../crypto\";\n\nimport Modal from \"react-modal\";\nimport { generateLoveNumber, generateSHA256 } from \"../crypto\";\nimport * as Icon from \"react-feather\";\n\ninterface componentProps {\n  name: string;\n  nickname: string;\n  year: string;\n  department: string;\n  publicKey: string;\n}\n\nconst SentCard: React.FC<componentProps> = (props) => {\n  let history = useHistory();\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  let auth = useAuth();\n\n  const sendHeart = () => {\n    setIsLoading(true);\n    let loveNumber = generateLoveNumber(localStorage.getItem(\"decryptedPrivateKey\"), props.publicKey);\n\n    let sha256 = generateSHA256(loveNumber);\n    // console.log(encryptedContactDetails);\n\n    axios\n      .post(\n        `${BACKEND_URL}/remove`,\n        {\n          sha256,\n        },\n        auth?.authHeader()\n      )\n      .then((response) => {\n        // console.log(response.data);\n        setIsLoading(false);\n        setMessage(response.data.message);\n\n        history.go(0);\n      })\n      .catch((err) => {\n        // console.log(err);\n        setIsLoading(false);\n        setMessage(err.response.data.message);\n      });\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-container\">\n        <h1 className=\"title\" onClick={() => setIsOpen(true)}>\n          {\" \"}\n          {props.name.length > 26 ? props.name.substr(0, 25) + \"...\" : props.name}{\" \"}\n        </h1>\n\n        <div className=\"card-body\">\n          <p>\n            <span className=\"nick-at\">@</span>\n            {props.nickname}{\" \"}\n          </p>\n          <span> {props.year} </span>\n          <span> {props.department} </span>\n        </div>\n\n        <button onClick={() => setIsOpen(true)}>\n          {\" \"}\n          <Icon.Trash2 />{\" \"}\n        </button>\n      </div>\n      <Modal className=\"modal\" isOpen={isOpen} onRequestClose={() => setIsOpen(false)}>\n        <h1 className=\"title\"> {props.name} </h1>\n\n        <div className=\"response\">{message}</div>\n\n        <div className=\"body\">\n          <p> {props.nickname} </p>\n          <span> {props.year} </span>\n          <span> {props.department} </span>\n        </div>\n\n        <button onClick={sendHeart} disabled={isLoading}>\n          {\" \"}\n          {isLoading ? <Icon.Loader className=\"loader\" /> : \"Remove Heart\"}{\" \"}\n        </button>\n      </Modal>\n    </div>\n  );\n};\n\nfunction SentHearts() {\n  let auth = useAuth();\n  const [data, setData] = useState<componentProps[]>([]);\n\n  useEffect(() => {\n    axios\n      .get(`${BACKEND_URL}/get_sent_hearts`, auth?.authHeader())\n      .then((res) => {\n        let sent_hearts_data: any = res.data;\n\n        setData(\n          sent_hearts_data.map((sent_heart: any) => {\n            let decrypted_data = symmetry_object_decryption(\n              localStorage.getItem(\"decryptedPrivateKey\"),\n              sent_heart[\"encrypted_data\"]\n            );\n            // console.log(decrypted_data);\n            return decrypted_data.userData as componentProps;\n          })\n        );\n      })\n      .catch((err) => {\n        // console.log(\"err is \", err)\n      });\n  }, [auth]);\n\n  return (\n    <>\n      {data.length > 0 && (\n        <div className=\"sentHearts\">\n          <h1> Sent Hearts </h1>\n          {data.map((user) => (\n            <SentCard\n              name={user.name}\n              nickname={user.nickname}\n              department={user.department}\n              year={user.year}\n              publicKey={user.publicKey}\n            />\n          ))}\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default SentHearts;\n","import React, { useState } from \"react\";\nimport { appendErrors, useForm } from \"react-hook-form\";\nimport { BACKEND_URL } from \"../constants/constants\";\nimport UserCard from \"../component/UserCard\";\nimport { useAuth } from \"../hooks/Auth\";\nimport axios from \"axios\";\nimport * as Icon from \"react-feather\";\nimport SentHearts from \"../component/SentHearts\";\nimport Countdown from \"../component/Countdown\";\n\ninterface inquire {\n  name: string;\n  nickname: string;\n  department: string;\n  year: string;\n  public_key: string;\n  email: string;\n}\n\nconst departments = [\n  \"Department\",\n  \"AE\",\n  \"AG\",\n  \"AR\",\n  \"BT\",\n  \"CE\",\n  \"CH\",\n  \"CS\",\n  \"CY\",\n  \"EC\",\n  \"EE\",\n  \"EX\",\n  \"IE\",\n  \"IM\",\n  \"GG\",\n  \"HS\",\n  \"MA\",\n  \"ME\",\n  \"MF\",\n  \"MT\",\n  \"MI\",\n  \"NA\",\n  \"PH\",\n  \"QD\",\n  \"QE\",\n  \"QM\",\n];\n\nconst years = [\"Year\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\"];\n\nfunction Dashboard() {\n  const auth = useAuth();\n  const [isSearched, setIsSearched] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n  const [searchResult, setSearchResult] = useState<inquire[]>([]);\n  const [message, setMessage] = useState(\"\");\n\n  const onSubmit = (data: inquire) => {\n    setIsSearched(true);\n    setIsLoading(true);\n    if (data.department === \"Department\") data.department = \"\";\n    if (data.year === \"Year\") data.year = \"\";\n\n    axios\n      .post(`${BACKEND_URL}/search`, data, auth?.authHeader())\n      .then((response) => {\n        setIsLoading(false);\n        setSearchResult(response.data);\n        setMessage(response.data.message);\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        // console.log(err);\n        setMessage(err.response.data.message);\n      });\n  };\n\n  return (\n    <div className=\"authform dashboard\">\n      <SentHearts />\n      <div className={`form ${isSearched ? \"expand\" : \"\"}`}>\n        <h1>Search</h1>\n        <Countdown date=\"2022-02-14T00:25:00\" heading=\"Sending Hearts closing in\" />\n        <Countdown date=\"2022-02-14T00:35:00\" heading=\"Matching would be revealed in\" />\n        <div className=\"error\">{message}</div>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <input name=\"name\" placeholder=\"Name*\" ref={register({ required: true })} />\n\n          <select name=\"department\" ref={register()}>\n            {departments.map((dep) => (\n              <option> {dep} </option>\n            ))}\n          </select>\n\n          <select name=\"year\" ref={register()}>\n            {years.map((year) => (\n              <option> {year} </option>\n            ))}\n          </select>\n\n          <button type=\"submit\" disabled={isLoading}>\n            {isSearched ? isLoading ? <Icon.Loader className=\"loader\" /> : <Icon.Search /> : \"Pata Lagao\"}{\" \"}\n          </button>\n        </form>\n        {errors.name && <p>Name is required.</p>}\n        {isSearched && (\n          <div className=\"results\">\n            {searchResult.length > 0 ? (\n              searchResult.map((user) => {\n                return (\n                  <UserCard\n                    name={user.name}\n                    nickname={user.nickname}\n                    department={user.department}\n                    year={user.year}\n                    publicKey={user.public_key}\n                    email={user.email}\n                  />\n                );\n              })\n            ) : (\n              <div>{!isLoading && <div className=\"noresults\">No results found</div>}</div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nDashboard.propTypes = {};\n\nexport default Dashboard;\n","import { AxiosError } from \"axios\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth, loginForm } from \"../hooks/Auth\";\nimport illus from \"../images/illus.svg\";\nimport { EMAIL_VALIDATOR } from \"../constants/constants\";\nimport Countdown from \"../component/Countdown\";\n\nfunction Login() {\n  const [isLoading, setIsLoading] = useState(false);\n  let auth = useAuth();\n  let history = useHistory();\n  const { register, handleSubmit, errors } = useForm();\n  const [message, setMessage] = useState(\"\");\n\n  const onSubmit = (data: loginForm) => {\n    setIsLoading(true);\n    console.log(\"Submitted Form Data: \", data);\n\n    auth?.login(\n      data,\n      () => {\n        setIsLoading(false);\n        // console.log(\"login succex\");\n        history.push(\"/dashboard\");\n      },\n      (e: AxiosError) => {\n        setIsLoading(false);\n        // console.log(\"Error\", e);\n        if (e.response?.status === 401) {\n          setMessage(\"Email ID / Password are wrong.\");\n        } else if (e.response?.status === 404) {\n          setMessage(\"Email not found, please register.\");\n        } else {\n          setMessage(\"An internal error happened, try again later.\");\n        }\n      }\n    );\n  };\n\n  return (\n    <div className=\"authform login\">\n      <div className=\"illus\">\n        <img src={illus} alt=\"Chora Chori Gup Chup Gup Chup\" />\n      </div>\n      <div className=\"form\">\n        <h1>Login</h1>\n        <Countdown date=\"2022-02-13T23:55:00\" heading=\"Registrations closing in\" />\n        <div className=\"error\">{message}</div>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <input\n            name=\"email\"\n            placeholder=\"KGP Email\"\n            ref={register({\n              required: true,\n              pattern: EMAIL_VALIDATOR,\n            })}\n          />\n          {errors.email?.type === \"required\" && <p>This field is required</p>}\n          {errors.email?.type === \"pattern\" && <p>IITKGP email-id only</p>}\n\n          <input name=\"password\" placeholder=\"Password\" type=\"password\" ref={register({ required: true })} />\n          {errors.password && <p>This field is required</p>}\n\n          <input type=\"submit\" value=\"Let me in\" disabled={isLoading} />\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Register.propTypes = {};\n\nexport default Login;\n","import { AxiosResponse } from \"axios\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useAuth, registerForm } from \"../hooks/Auth\";\nimport illus from \"../images/illus.svg\";\nimport { EMAIL_VALIDATOR } from \"../constants/constants\";\nimport Countdown from \"../component/Countdown\";\n\nfunction Register() {\n  let auth = useAuth();\n  const [isRegistrered, setIsRegistered] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const { register, handleSubmit, errors } = useForm();\n  const onSubmit = (data: registerForm) => {\n    setIsLoading(true);\n    // console.log(\"Submitted Form Data: \", data);\n\n    auth?.register(data, (response: AxiosResponse) => {\n      // console.log(\"registration succex\");\n      setIsLoading(false);\n\n      if (response === undefined || response.status === 500) setMessage(\"Server is down, please try again later\");\n      else if (response.status === 200) setIsRegistered(true);\n      else setMessage(response.data.message);\n    });\n  };\n\n  return (\n    <div className=\"authform register\">\n      <div className=\"illus\">\n        <img src={illus} alt=\"Chora Chori Gup Chup Gup Chup\" />\n      </div>\n      <div className=\"form\">\n        {isRegistrered ? (\n          <h1> Verfication link sent to email </h1>\n        ) : (\n          <>\n            <h1>Register</h1>\n            <Countdown date=\"2022-02-13T23:55:00\" heading=\"Registrations closing in\" />\n            <div className=\"error\">{message}</div>\n            <form onSubmit={handleSubmit(onSubmit)}>\n              <input\n                name=\"email\"\n                placeholder=\"KGP Email\"\n                ref={register({\n                  required: true,\n                  pattern: EMAIL_VALIDATOR,\n                })}\n              />\n              {errors.email?.type === \"required\" && <p>This field is required</p>}\n              {errors.email?.type === \"pattern\" && <p>IITKGP email-id only</p>}\n\n              <input type=\"submit\" value=\"Break My Heart\" disabled={isLoading} />\n            </form>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Register.propTypes = {};\n\nexport default Register;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { ProvideAuth } from \"./hooks/Auth\";\nimport PrivateRoute from \"./component/PrivateRoute\";\nimport Navbar from \"./component/Navbar\";\nimport Footer from \"./component/Footer\";\n\nimport Home from \"./views/Home\";\nimport Verify from \"./views/verify\";\nimport Dashboard from \"./views/Dashboard\";\nimport Login from \"./views/Login\";\nimport Register from \"./views/Register\";\n\nimport \"./styles/main.scss\";\n\nfunction App() {\n  return (\n    <ProvideAuth>\n      <Router>\n        <div className=\"App\">\n          <Navbar />\n          <Switch>\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n            <Route path=\"/register\">\n              <Register />\n            </Route>\n            <PrivateRoute path=\"/dashboard\">\n              <Dashboard />\n            </PrivateRoute>\n            <Route path=\"/verify/:id\">\n              <Verify />\n            </Route>\n            <Route path=\"/\">\n              <Home />\n            </Route>\n          </Switch>\n          <Footer />\n        </div>\n      </Router>\n    </ProvideAuth>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}